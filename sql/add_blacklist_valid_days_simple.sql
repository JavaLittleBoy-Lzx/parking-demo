-- ============================================
-- 简单版迁移脚本：添加临时拉黑有效天数字段
-- 如果字段已存在会报错，可以忽略
-- ============================================

ALTER TABLE `violation_config`
ADD COLUMN `blacklist_valid_days` INT(11) DEFAULT 30 
COMMENT '临时拉黑有效天数（从最后一次违规时间开始计算，单位：天）' 
AFTER `is_permanent`;

-- 完成！现在可以在配置中使用有效天数代替固定的时间段了。

