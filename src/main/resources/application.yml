spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
#    password: 123456
    password: Xuer@271.HS
    url: jdbc:mysql://localhost:3306/project_lzx?useUnicode=true&useSSL=false&characterEncoding=utf8&allowPublicKeyRetrieval=true&rewriteBatchedStatements=true&allowMultiQueries=true
#    url: jdbc:mysql://121.41.131.154:3306/project_lzx?useUnicode=true&useSSL=false&characterEncoding=utf8&allowPublicKeyRetrieval=true&rewriteBatchedStatements=true&allowMultiQueries=true&autoReconnect=true
#    url: jdbc:mysql://www.xuerparking.cn:3306/project_lzx?useUnicode=true&useSSL=false&characterEncoding=utf8&allowPublicKeyRetrieval=true&rewriteBatchedStatements=true&allowMultiQueries=true&autoReconnect=true
#    url: jdbc:mysql://118.178.179.235:3306/project_lzx?useUnicode=true&useSSL=true&characterEncoding=utf8&allowPublicKeyRetrieval=true&rewriteBatchedStatements=true&allowMultiQueries=true&autoReconnect=true
    type: com.alibaba.druid.pool.DruidDataSource
    jpa:
      generate-ddl: false
      hibernate:
        ddl-auto: none
      servlet:
        multipart:
          max-file-size: 100MB
          max-request-size: 100MB
#  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
  web:
    resources:
      static-locations: classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/
mybatis-plus:
  mapper-locations: classpath:**/mapper/xml/*.xml
  type-aliases-package: com.parkingmanage.entity
  # 全局逻辑删除的实体
  global-config:
    db-config:
      logic-delete-field: deleted  # 全局逻辑删除的实体字段名(since 3.3.0,配置后可以忽略不配置步骤2)
      logic-delete-value: 1      # 逻辑已删除值(默认为 1)
      logic-not-delete-value: 0    # 逻辑未删除值(默认为 0)
#      logic-delete-column:
  # MyBatis配置
  configuration:
    map-underscore-to-camel-case: true  # 开启驼峰命名转换
#文件存储位置
file:
  upload-path: ./uploadfile/  # 相对于项目根目录（兼容 Windows 和 Linux）
  upload:
    path: ./uploads  # 文件上传存储路径（相对于项目根目录，兼容 Windows 和 Linux）
    url-prefix: /uploads  # 文件访问URL前缀
  # 配置SpringMVC文件上传限制，默认1M。注意MB要大写，不然报错。SpringBoot版本不同，配置项不同
  spring:
    servlet:
      multipart:
        max-file-size: 50MB
        max-request-size: 50MB
server:
  port: 8543
  # SSL配置已注释，如需启用HTTPS请取消注释
  ssl:
     key-store-password: 2xffjgct    #填写jks-password.txt文件内的密码。
     key-store-type: JKS #JKS格式证书密钥库类型。PFX格式的证书密钥库类型为PKCS12。
     key-store: www.xuerparking.cn.jks   #您需要使用实际的证书名称替换domain_name.jks。
swagger:
  basePackage: com.parkingmanage
  title: 雪儿泊车管理系统
  description: 雪儿泊车管理系统
  version: V1.0
logging:
  file:
    path: /usr/local/parking_demo/logs
    file-max-size: 5242880
    name: ParkingDemo.log
  charset:
    console: UTF-8
    file: UTF-8
# 百度AI配置
baidu:
  ai:
    # 从百度AI开放平台获取 (https://ai.baidu.com/)
    # 创建应用后在"管理中心"→"文字识别"→"车牌识别"中查看
    app-id: 103715637      # 应用ID
    api-key: 45kdY5Q4wyGLiFNUbOtU8j8U     # API Key
    secret-key: GBWTclI2hmOAYp4I1BvZLgxHWjXJbMU6 # Secret Key
    
    # API配置
    base-url: https://aip.baidubce.com   # 百度AI API基础URL
    token-url: /oauth/2.0/token          # 获取访问令牌URL
    plate-url: /rest/2.0/ocr/v1/license_plate # 车牌识别API URL
    # 缓存配置
    token-cache-minutes: 25              # 访问令牌缓存时间(分钟)，百度默认30天有效期
# 微信配置
wechat:
  # 微信事件推送Token（用于验证微信服务器请求）
  token: ParkingDemo2024Token   # 请修改为您自定义的复杂Token
  # 微信小程序配置
  miniapp:
    appid: wx112d8a922018480e  # 替换为您的小程序AppID
    secret: INVALID_SECRET_DISABLE_WECHAT_API   # 暂时禁用微信API，使用普通二维码
    # access_token缓存时间（秒）
    token-cache-time: 7000
    # 是否启用微信小程序码（设为false使用普通二维码）
    enabled: false
  # 微信公众号配置（新增API接口配置）
  public:
    appid: wx7fcbbc5d885b630b  # 公众号AppID，用于API接口调用
    secret: 19b9f00b48f266875b1b7e55eda6dd17  # 公众号AppSecret，用于获取access_token
  # 临时素材配置
  temp:
    media:
      storage:
        # path: d:/ParkingDemo/temp/wechat/media/  # 临时素材本地存储路径（Windows）
        path: /usr/local/parking_demo/temp/wechat/media/  # Linux环境请使用此路径
  # 欢迎消息配置
  welcome:
    text: 欢迎关注雪人停车服务号！您可以通过小程序进行停车预约、代人预约、查询、查看违规记录等操作。点击下方小程序卡片即可进入。
  # 微信网页授权配置
  oauth:
    appid: wx7fcbbc5d885b630b  # 公众号AppID（与public.appid相同）
    appsecret: 19b9f00b48f266875b1b7e55eda6dd17  # 公众号AppSecret（与public.secret相同）
    redirect-uri: https://www.xuerparking.cn/wechat-callback.html  # 授权回调地址（生产环境）
    # redirect-uri: http://www.xuerparking.cn:8543/wechat-callback.html  # 本地开发地址
  # 微信模板消息配置
  template:
    appointment:
      approved: _gccosePZbxjn9hlUdlzqp22X6yTkaFNDaqxnXSH73Y # 预约审核通过通知模板ID
      rejected: _gccosePZbxjn9hlUdlzqp22X6yTkaFNDaqxnXSH73Y  # 预约审核驳回通知模板ID
      success: JAvGYI2-OzUW3iEMCwSAxn9pU86Vck83k4xnrJPqwUk  # 预约成功通知模板ID（管家代人预约、访客扫描邀请码）
    parking:
      enter: b_t4iOogkcaCurSw7twZ2nrX6CaHNpXqDz3ykKZ6xoM  # 停车进场通知模板ID
      leave: H5Y4W3tnBiyPPx2ktKbnHyTIRzzwVo1ziKk9M2TWG-c  # 停车离场通知模板ID
      timeout: NvxG4IJ8SSfhVh1cdK0Jachz9Fr383oAHWZfO29D2Ws  # 停车超时提醒模板ID
      retention: buPag7z59cYo4OU5B7VmUf4VGoElwGS8VhsdrO6MLNk  # 车辆滞留类通知模板ID（新增）
      violation: gCkB6i6GLjasUnoRyZnw-zNw_jYzZjPgW4abVPTiwNk  # 车辆违规停车告警通知模板ID
    blacklist:
      add: VULfsba-5E9TXmEwZQZN572g4rXh46xmka_wfoMpAnk  # 车辆加入黑名单成功通知模板ID（⚠️ 请替换为您的实际模板ID）
    booking:
      pending: CE5SnT-qqdOpBx4xgYm47k3H5xqhQK-p3NFNbVncxoM
  # 停车超时提醒模板ID
  # 微信公众号配置（停车超时提醒功能）
  # 微信公众号AppID
  appid: wx7fcbbc5d885b630b
  # 微信公众号AppSecret
  secret: 19b9f00b48f266875b1b7e55eda6dd17
  # 超时提醒模板消息配置
  timeout:
    template:
      # 模板消息ID（您提供的实际模板ID）
      id: sjyHHEhrj24mFasi8FXaaz_ucOfuI1KvUUz8yeXMymY
# 停车超时提醒功能配置
parking:
  timeout:
    # 定时任务执行间隔（毫秒）默认5分钟
    check-interval: 300000
    # 提醒时间（分钟）- 在超时前多少分钟提醒
    warning-minutes: 15
    # 是否启用超时提醒功能
    enabled: true
    # 默认超时时间配置（分钟）
    default-timeout:
      temp: 120      # 临时车辆2小时
      visitor: 180   # 访客车辆3小时  
      owner: 720     # 业主车辆12小时
    # 重试配置
    retry:
      # 最大重试次数
      max-attempts: 3
      # 重试间隔（毫秒）
      delay: 30000

# 阿里云短信服务配置
aliyun:
  sms:
    # 阿里云AccessKey ID（请替换为您的实际值）
    accessKeyId: ${ALIYUN_ACCESS_KEY_ID:your_access_key_id}
    # 阿里云AccessKey Secret（请替换为您的实际值）
    accessKeySecret: ${ALIYUN_ACCESS_KEY_SECRET:your_access_key_secret}
    # 短信签名名称（请替换为您申请的签名）
    signName: 东北林业大学
    # 短信模板代码（请替换为您申请的模板代码）
    templateCode: SMS_496020098
    # 阿里云短信服务端点
    endpoint: dysmsapi.aliyuncs.com

# ACMS VIP车主信息接口配置（仅用于东北林业大学）
acms:
  api:
    # ACMS接口地址（请替换为实际地址）
    url: http://cl.nefu.edu.cn:8092/vems
    # 设备ID（请替换为实际值）
    device_id: 7427EA1D1AE17427EA1D1AE17427EA1D
    # 签名类型
    sign_type: MD5
    # 字符编码
    charset: UTF-8

# 智谱AI配置（BigModel）
bigmodel:
  # 智谱AI API Key（从智谱AI开放平台获取：https://open.bigmodel.cn/）
  # 注册后在"API Keys"中创建并获取
  api-key: 831bff9d3cd9440ea40b30a966960444.zJ8ffGR16OwpZd9B
  
  # API配置
  base-url: https://open.bigmodel.cn/api/paas/v4
  
  # 超时配置（毫秒）
  timeout: 30000
  
  # 重试次数
  retry-times: 3

# 访客预约查询接口配置
visitor:
  reservation:
    api:
      # 访客预约查询接口地址
      url: http://202.118.214.8:8675